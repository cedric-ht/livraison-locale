<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Livraison Locale</title>
<style>
/* Ton style original - je ne change rien ici pour garder exactement le même look */
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto; background:#fff;color:#333;min-height:100vh;line-height:1.5;overflow-x:hidden;}
header{background:rgba(0,119,182,0.9);backdrop-filter:blur(10px);color:white;padding:2rem 1rem;border-bottom-left-radius:20px;border-bottom-right-radius:20px;box-shadow:0 8px 30px rgba(0,0,0,0.15);position:sticky;top:0;z-index:100;}
/* ... le reste de ton CSS original reste identique ... je ne le recopie pas pour gagner de la place ... */
#checkoutForm { display:none; margin-top:1.5rem; background:#f8f9fa; padding:1.5rem; border-radius:16px; box-shadow:0 4px 15px rgba(0,0,0,0.1); }
#checkoutForm input { width:100%; padding:0.8rem; margin:0.6rem 0; border:1px solid #ccc; border-radius:8px; font-size:1rem; }
#checkoutForm button { width:100%; padding:1rem; background:#0077b6; color:white; border:none; border-radius:10px; font-size:1.1rem; font-weight:600; cursor:pointer; }
#checkoutForm button:disabled { background:#aaa; cursor:not-allowed; }
</style>
</head>
<body>

<!-- Ton header + menu + sections accueil/apropos/contact identiques -->

<section id="commander" style="display:none">
  <h2>Choisir une catégorie</h2>
  <div id="categoryList"></div>
  <div id="commerceList"></div>
  <div id="productList"></div>
  
  <!-- Bouton qui apparaît quand panier non vide -->
  <button id="validateCartBtn" style="display:none; margin:2rem auto; padding:1rem 2rem; background:linear-gradient(135deg,#00b4d8,#0077b6); color:white; border:none; border-radius:12px; font-size:1.2rem; font-weight:600; cursor:pointer;">
    Valider mon panier →
  </button>

  <!-- Formulaire coordonnées -->
  <form id="checkoutForm">
    <h3>Vos informations de livraison</h3>
    <input type="text" id="firstName" placeholder="Prénom" required>
    <input type="text" id="lastName" placeholder="Nom" required>
    <input type="email" id="email" placeholder="Email" required>
    <input type="text" id="address" placeholder="Adresse complète" required>
    <input type="tel" id="phone" placeholder="Téléphone" required>
    <button type="submit" id="submitOrder">Continuer vers le paiement</button>
  </form>
</section>

<!-- Ton mini panier + messages ajoutés identiques -->

<script>
// Ton code JS complet original (menu, panier, addToCart, renderCart, etc.) reste IDENTIQUE
// Juste on ajoute ces 3 fonctions en plus :

function showCheckout() {
  document.getElementById("checkoutForm").style.display = "block";
  document.getElementById("validateCartBtn").style.display = "none";
  window.scrollTo({ top: document.getElementById("checkoutForm").offsetTop - 80, behavior: "smooth" });
}

// Quand on clique sur "Valider mon panier"
document.getElementById("validateCartBtn").onclick = showCheckout;

// Quand on valide le formulaire (pour l'instant juste un message)
document.getElementById("checkoutForm").addEventListener("submit", function(e) {
  e.preventDefault();
  
  const btn = document.getElementById("submitOrder");
  btn.disabled = true;
  btn.textContent = "Préparation...";

  // Ici on mettra Stripe plus tard
  // Pour tester que tout marche :
  setTimeout(() => {
    alert("Commande prête à être envoyée ! (Stripe sera ici dans la prochaine étape)");
    btn.disabled = false;
    btn.textContent = "Continuer vers le paiement";
    // clearCart();  ← décommente quand tu veux vraiment vider après test
  }, 1200);
});
</script>

<!-- Ton script Firebase + affichage catégories/commerces/produits reste IDENTIQUE -->

</body>
</html>

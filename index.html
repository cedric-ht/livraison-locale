<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Livraison Locale</title>
<style>
/* RESET */
*{margin:0;padding:0;box-sizing:border-box}
body{
  font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto;
  background: #f8f9fa; /* clair par dÃ©faut */
  color:#2c3e50;
  min-height:100vh;
  line-height:1.5;
  overflow-x:hidden;
  transition: background 0.3s ease-in-out, color 0.3s ease-in-out;
}

/* HEADER */
header{
  background: linear-gradient(135deg, #00b4d8, #0077b6);
  color:white;
  padding:2rem 1rem;
  border-bottom-left-radius:20px;
  border-bottom-right-radius:20px;
  box-shadow:0 8px 30px rgba(0,0,0,0.15);
  position:relative;
}
header h1{font-size:1.8rem;margin-bottom:.3rem}
header p{opacity:.9;font-size:.95rem}
#cta{margin-top:1rem;display:flex;gap:1rem}
#cta button{
  flex:1;padding:.9rem;border:none;border-radius:14px;font-size:1rem;font-weight:600;cursor:pointer;transition:all 0.3s ease;
}
#orderBtn{
  background: linear-gradient(135deg,#00b4d8,#0077b6);
  color:white;
}
#orderBtn:hover{
  transform:scale(1.05);
  box-shadow:0 8px 20px rgba(0,0,0,0.2);
}
#menuBtn{
  background: rgba(255,255,255,0.25);
  color:white;
}
#menuBtn:hover{
  background: rgba(255,255,255,.35);
  transform:scale(1.03);
}

/* MOBILE MENU */
#mobileMenu{
  display:none;background:#ffffff;position:fixed;top:0;left:0;right:0;bottom:0;
  z-index:999;padding:2rem;overflow-y:auto;box-shadow:0 0 30px rgba(0,0,0,0.2);
  border-radius:16px;
}
#mobileMenu a{
  display:block;padding:1rem 0;font-size:1.2rem;font-weight:600;color:#0077b6;
  border-bottom:1px solid #eee;cursor:pointer;
}
#mobileMenuOverlay{
  display:none;position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,0.25);
  z-index:998;
}

/* SECTIONS */
section{padding:1.5rem 1rem;max-width:900px;margin:auto}
h2{margin-bottom:1rem;color:#0077b6;}

/* GRID LISTES */
#categoryList,#commerceList,#productList{
  display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:1.5rem;
}
.category,.commerce,.product{
  background: rgba(255,255,255,0.85);
  backdrop-filter: blur(10px);
  padding:1rem;
  border-radius:16px;
  box-shadow:0 10px 25px rgba(0,0,0,0.08);
  cursor:pointer;
  transition: transform 0.3s ease, box-shadow 0.3s ease, background 0.3s ease;
  margin-bottom: 1rem;
}
.category:hover,.commerce:hover,.product:hover{
  transform:translateY(-5px);
  box-shadow:0 15px 30px rgba(0,0,0,0.12);
}
.category.selected,.commerce.selected{background: rgba(0,180,216,0.25);}
.product span{font-weight:600;display:block;color:#2c3e50;}
.stock{font-size:.85rem;color:#7f8c8d;margin:.3rem 0}
.product button{
  margin-top:.6rem;width:100%;padding:.7rem;border:none;border-radius:12px;
  background: linear-gradient(135deg,#00b4d8,#0077b6);
  color:white;font-weight:600;cursor:pointer;transition:all 0.3s ease;
}
.product button:hover:not(:disabled){
  transform:scale(1.05);
  box-shadow:0 5px 15px rgba(0,0,0,0.15);
}
.product button:disabled{background:#bdc3c7;opacity:0.6;cursor:not-allowed}

/* MINI PANIER FLOTANT */
#cart{
  position: fixed;
  bottom: 1rem;
  left: 1rem;
  right: 1rem;
  z-index: 500;
  background: rgba(255,255,255,0.95);
  border-radius: 20px;
  max-height: 80px;
  overflow:hidden;
  padding:0.5rem 1rem;
  box-shadow: 0 15px 40px rgba(0,0,0,0.1);
  transition: max-height 0.3s ease, padding 0.3s ease, background 0.3s ease, color 0.3s ease;
}
#cart.expanded{max-height: 300px; padding:1rem;}
#cartHeader{
  display:flex; justify-content: space-between; align-items: center;
  cursor:pointer;
  color:#0077b6;
}
#cartContent{
  margin-top:0.5rem;
}
#cartContent div{
  padding:0.8rem;
  border-radius:12px;
  margin-bottom:0.5rem;
  background: rgba(0,180,216,0.1);
  box-shadow:0 6px 15px rgba(0,0,0,0.05);
  transition: transform 0.3s ease, background 0.3s ease, color 0.3s ease;
}
#cartContent div:hover{
  transform: translateY(-2px);
  box-shadow:0 10px 25px rgba(0,0,0,0.12);
}
#cart h3{text-align:right;color:#0077b6;margin-top:0.5rem;}
#cart button{margin:0.2rem; padding:0.4rem 0.7rem; border:none; border-radius:8px; cursor:pointer; background: linear-gradient(135deg,#00b4d8,#0077b6); color:white; font-weight:600; transition:all 0.3s ease;}
#cart button:hover{transform:scale(1.05);box-shadow:0 5px 15px rgba(0,0,0,0.15);}
#cart .clear-btn{
  width:100%;
  background:#ff6b6b;
  color:white;
  border:none;
  padding:0.7rem;
  border-radius:12px;
  cursor:pointer;
  font-weight:600;
  margin-top:0.5rem;
}

/* MESSAGE CENTRAL */
#addedMessage,#errorMessage{
  position: fixed; top:50%; left:50%; transform:translate(-50%,-50%);
  padding:1rem 2rem; border-radius:12px; font-weight:600;font-size:1rem;
  display:none; z-index:1001;
  box-shadow:0 6px 20px rgba(0,0,0,.3); text-align:center;
  opacity:0; transition:opacity 0.3s ease, transform 0.3s ease, background 0.3s ease, color 0.3s ease;
}
#addedMessage{background:#4caf50; color:white;}
#errorMessage{background:#e74c3c;color:white;}
#addedMessage.show,#errorMessage.show{display:block;opacity:1;transform:translate(-50%,-50%) scale(1.05);}

/* DARK MODE */
@media (prefers-color-scheme: dark){
  body{background:#1e1e1e;color:#ecf0f1;}
  header{background: linear-gradient(135deg, #0077b6, #00b4d8);}
  .category,.commerce,.product{background: rgba(50,50,50,0.85);}
  .product span,.stock{color:#ecf0f1;}
  #cart{background: rgba(30,30,30,0.95); color:#ecf0f1;}
  #cartContent div{background: rgba(0,100,150,0.2); color:#ecf0f1;}
  #cartHeader{color:#00b4d8;}
  #cart h3{color:#00b4d8;}
  #mobileMenu{background:#2c2c2c;}
  #mobileMenu a{color:#00b4d8;}
}

/* MOBILE GRID */
@media(max-width:767px){
  #categoryList,#commerceList,#productList{
    grid-template-columns:1fr; gap:1.2rem;
  }
  section{padding-bottom:120px;} /* espace pour mini-panier */
}
</style>
</head>
<body>

<header>
<h1>Livraison Locale</h1>
<p>Commerces des Sables dâ€™Olonne</p>
<div id="cta">
  <button id="orderBtn" onclick="showPage('commander')">Commander</button>
  <button id="menuBtn" onclick="toggleMenu()">Menu</button>
</div>
</header>

<div id="mobileMenuOverlay" onclick="toggleMenu()"></div>
<div id="mobileMenu">
  <a onclick="nav('accueil')">Accueil</a>
  <a onclick="nav('apropos')">Ã€ propos</a>
  <a onclick="nav('contact')">Contact</a>
  <a href="inscription.html">Nous rejoindre</a>
</div>

<section id="accueil">
<h2>Bienvenue</h2>
<p>Commandez local, simplement.</p>
</section>

<section id="apropos" style="display:none">
<h2>Ã€ propos</h2>
<p>Plateforme locale de livraison.</p>
</section>

<section id="contact" style="display:none">
<h2>Contact</h2>
<p>cedric.huet.pro@gmail.com</p>
</section>

<section id="commander" style="display:none">
<h2>Choisir une catÃ©gorie</h2>
<div id="categoryList"></div>
<div id="commerceList"></div>
<div id="productList"></div>
</section>

<div id="cart">
  <div id="cartHeader">
    <strong>ðŸ›’ Panier</strong>
    <span id="toggleCart">&#9650;</span>
  </div>
  <div id="cartContent"></div>
  <button class="clear-btn" onclick="clearCart()">Vider le panier</button>
</div>

<div id="errorMessage"></div>
<div id="addedMessage">Produit ajoutÃ© âœ…</div>

<!-- Le reste du JS (menu, panier, Firebase) reste identique -->

</body>
</html>
